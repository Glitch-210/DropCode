(()=>{var e={};e.id=285,e.ids=[285],e.modules={517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},2781:e=>{"use strict";e.exports=require("stream")},1504:(e,t,r)=>{"use strict";r.r(t),r.d(t,{headerHooks:()=>eE,originalPathname:()=>ex,patchFetch:()=>eL,requestAsyncStorage:()=>eg,routeModule:()=>e_,serverHooks:()=>eT,staticGenerationAsyncStorage:()=>ev,staticGenerationBailout:()=>eR});var n,o,a,i={};r.r(i),r.d(i,{POST:()=>ew});var s=r(5419),l=r(9108),u=r(9678),c=r(6433),p=r(2781),d=r(8210);let h=globalThis.fetch.bind(globalThis);var f=r(4415),m=new Promise(e=>{try{let t=new Uint8Array([104,101,108,108,111]);new Blob([t]).text().then(t=>{e("hello"===t)}).catch(()=>{e(!1)})}catch{e(!1)}});async function b(e){let t;return e instanceof ReadableStream?e:e instanceof Blob?e.stream():y(e)?p.Readable.toWeb(e):(t=e instanceof ArrayBuffer?new Uint8Array(e):c(e)?e:new TextEncoder().encode(e),await m)?new Blob([t]).stream():new ReadableStream({start(e){e.enqueue(t),e.close()}})}function y(e){return"object"==typeof e&&"function"==typeof e.pipe&&e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState}var w=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i,_={b:1,kb:1024,mb:1048576,gb:1073741824,tb:1099511627776,pb:0x4000000000000};function g(e){let t;if("number"==typeof e&&!Number.isNaN(e))return e;if("string"!=typeof e)return null;let r=w.exec(e),n="b";if(r){let[,e,,,o]=r;if(!e)return null;t=parseFloat(e),o&&(n=o.toLowerCase())}else t=parseInt(e,10);return Number.isNaN(t)?null:Math.floor(_[n]*t)}function v(e){if(null==e?void 0:e.token)return e.token;if(process.env.BLOB_READ_WRITE_TOKEN)return process.env.BLOB_READ_WRITE_TOKEN;throw new T("No token found. Either configure the `BLOB_READ_WRITE_TOKEN` environment variable, or pass a `token` option to your calls.")}var T=class extends Error{constructor(e){super(`Vercel Blob: ${e}`)}},E=["//"],R=(()=>{if(function(){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return!0;if("undefined"!=typeof process){let e=process.type;return"renderer"!==e&&"worker"!==e&&!!(process.versions&&process.versions.node)}return!1}())return!0;if(x().startsWith("http://localhost"))return!1;let e=!1,t=new Request(x(),{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})();function x(e=""){let t=null;try{t=process.env.VERCEL_BLOB_API_URL||process.env.NEXT_PUBLIC_VERCEL_BLOB_API_URL}catch{}return`${t||"https://vercel.com/api/blob"}${e}`}var L="function"==typeof TextEncoder?new TextEncoder:null;function U(e){return e?"string"==typeof e?L?L.encode(e).byteLength:new Blob([e]).size:"byteLength"in e&&"number"==typeof e.byteLength?e.byteLength:"size"in e&&"number"==typeof e.size?e.size:0:0}var k=(e,t)=>{let r=new Uint8Array(0);return new TransformStream({transform(n,o){queueMicrotask(()=>{let a=new Uint8Array(r.length+n.byteLength);for(a.set(r),a.set(new Uint8Array(n),r.length),r=a;r.length>=e;){let n=r.slice(0,e);o.enqueue(n),null==t||t(n.byteLength),r=r.slice(e)}})},flush(e){queueMicrotask(()=>{r.length>0&&(e.enqueue(r),null==t||t(r.byteLength))})}})};function C(e){return globalThis.ReadableStream&&e instanceof ReadableStream}var O=!1;try{((null==(n=process.env.DEBUG)?void 0:n.includes("blob"))||(null==(o=process.env.NEXT_PUBLIC_DEBUG)?void 0:o.includes("blob")))&&(O=!0)}catch{}function B(e,...t){O&&console.debug(`vercel-blob: ${e}`,...t)}var P=null!=(a=globalThis.DOMException)?a:(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),S=Object.prototype.toString,A=e=>"[object Error]"===S.call(e),N=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]),I="function"==typeof h,$=I&&R,V=async({input:e,init:t,onUploadProgress:r})=>{let n;if(B("using fetch"),t.body){if(r){let e=await b(t.body),o=0,a=k(65536,e=>{r(o+=e)});n=e.pipeThrough(a)}else n=t.body}let o=R&&n&&function(e){return!!(C(e)||y(e))}(n)?"half":void 0;return h(e,{...t,...t.body?{body:n}:{},duplex:o})},M="undefined"!=typeof XMLHttpRequest,q=async({input:e,init:t,onUploadProgress:r})=>{B("using xhr");let n=null;return t.body&&(n=C(t.body)?await new Response(t.body).blob():t.body),new Promise((o,a)=>{let i=new XMLHttpRequest;if(i.open(t.method||"GET",e.toString(),!0),r&&i.upload.addEventListener("progress",e=>{e.lengthComputable&&r(e.loaded)}),i.onload=()=>{var e;if(null==(e=t.signal)?void 0:e.aborted){a(new DOMException("The user aborted the request.","AbortError"));return}let r=new Headers;i.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(e=>{let t=e.split(": "),n=t.shift(),o=t.join(": ");n&&r.set(n.toLowerCase(),o)}),o(new Response(i.response,{status:i.status,statusText:i.statusText,headers:r}))},i.onerror=()=>{a(TypeError("Network request failed"))},i.ontimeout=()=>{a(TypeError("Network request timed out"))},i.onabort=()=>{a(new DOMException("The user aborted a request.","AbortError"))},t.headers&&new Headers(t.headers).forEach((e,t)=>{i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",()=>{i.abort()}),t.signal.aborted)){i.abort();return}i.send(n)})},H=async({input:e,init:t,onUploadProgress:r})=>{if(r){if($)return V({input:e,init:t,onUploadProgress:r});if(M)return q({input:e,init:t,onUploadProgress:r})}if(I)return V({input:e,init:t});if(M)return q({input:e,init:t});throw Error("No request implementation available")},j=class extends T{constructor(){super("Access denied, please provide a valid token for this resource.")}},D=class extends T{constructor(e){super(`Content type mismatch, ${e}.`)}},X=class extends T{constructor(e){super(`Pathname mismatch, ${e}. Check the pathname used in upload() or put() matches the one from the client token.`)}},z=class extends T{constructor(){super("Client token has expired.")}},G=class extends T{constructor(e){super(`File is too large, ${e}.`)}},F=class extends T{constructor(){super("This store does not exist.")}},J=class extends T{constructor(){super("This store has been suspended.")}},K=class extends T{constructor(){super("Unknown error, please visit https://vercel.com/help.")}},W=class extends T{constructor(){super("The requested blob does not exist")}},Y=class extends T{constructor(){super("The blob service is currently not available. Please try again.")}},Z=class extends T{constructor(e){super(`Too many requests please lower the number of concurrent requests ${e?` - try again in ${e} seconds`:""}.`),this.retryAfter=null!=e?e:0}},Q=class extends T{constructor(){super("The request was aborted.")}};async function ee(e){var t,r,n;let o,a,i;try{let i=await e.json();o=null!=(r=null==(t=i.error)?void 0:t.code)?r:"unknown_error",a=null==(n=i.error)?void 0:n.message}catch{o="unknown_error"}switch((null==a?void 0:a.includes("contentType"))&&a.includes("is not allowed")&&(o="content_type_not_allowed"),(null==a?void 0:a.includes('"pathname"'))&&a.includes("does not match the token payload")&&(o="client_token_pathname_mismatch"),"Token expired"===a&&(o="client_token_expired"),(null==a?void 0:a.includes("the file length cannot be greater than"))&&(o="file_too_large"),o){case"store_suspended":i=new J;break;case"forbidden":i=new j;break;case"content_type_not_allowed":i=new D(a);break;case"client_token_pathname_mismatch":i=new X(a);break;case"client_token_expired":i=new z;break;case"file_too_large":i=new G(a);break;case"not_found":i=new W;break;case"store_not_found":i=new F;break;case"bad_request":i=new T(null!=a?a:"Bad request");break;case"service_unavailable":i=new Y;break;case"rate_limited":i=function(e){let t=e.headers.get("retry-after");return new Z(t?parseInt(t,10):void 0)}(e);break;default:i=new K}return{code:o,error:i}}async function et(e,t,r){let n=function(){let e=null;try{e=process.env.VERCEL_BLOB_API_VERSION_OVERRIDE||process.env.NEXT_PUBLIC_VERCEL_BLOB_API_VERSION_OVERRIDE}catch{}return`${null!=e?e:11}`}(),o=v(r),a=function(){let e={};try{"VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in process.env&&void 0!==process.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API?e["x-proxy-through-alternative-api"]=process.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API:"NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in process.env&&void 0!==process.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API&&(e["x-proxy-through-alternative-api"]=process.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API)}catch{}return e}(),[,,,i=""]=o.split("_"),s=`${i}:${Date.now()}:${Math.random().toString(16).slice(2)}`,l=0,u=0,c=0,p=(null==r?void 0:r.onUploadProgress)||function(){try{return"1"===process.env.VERCEL_BLOB_USE_X_CONTENT_LENGTH}catch{return!1}}();t.body&&p&&(u=U(t.body)),(null==r?void 0:r.onUploadProgress)&&r.onUploadProgress({loaded:0,total:u,percentage:0});let h=await d(async i=>{let d;try{d=await H({input:x(e),init:{...t,headers:{"x-api-blob-request-id":s,"x-api-blob-request-attempt":String(l),"x-api-version":n,...p?{"x-content-length":String(u)}:{},authorization:`Bearer ${o}`,...a,...t.headers}},onUploadProgress:(null==r?void 0:r.onUploadProgress)?e=>{var t;let n=0!==u?u:e;c=e;let o=u>0?Number((e/n*100).toFixed(2)):0;100===o&&u>0||null==(t=r.onUploadProgress)||t.call(r,{loaded:e,total:n,percentage:o})}:void 0})}catch(e){if(e instanceof P&&"AbortError"===e.name){i(new Q);return}if(e&&A(e)&&"TypeError"===e.name&&"string"==typeof e.message&&("Load failed"===e.message?void 0===e.stack:N.has(e.message)))throw e;if(e instanceof TypeError){i(e);return}throw e}if(d.ok)return d;let{code:h,error:f}=await ee(d);if("unknown_error"===h||"service_unavailable"===h||"internal_server_error"===h)throw f;i(f)},{retries:function(){try{let e=process.env.VERCEL_BLOB_RETRIES||"10";return parseInt(e,10)}catch{return 10}}(),onRetry:t=>{t instanceof Error&&B(`retrying API request to ${e}`,t.message),l+=1}});if(!h)throw new K;return(null==r?void 0:r.onUploadProgress)&&r.onUploadProgress({loaded:c,total:c,percentage:100}),await h.json()}var er={cacheControlMaxAge:"x-cache-control-max-age",addRandomSuffix:"x-add-random-suffix",allowOverwrite:"x-allow-overwrite",contentType:"x-content-type"};async function en({pathname:e,options:t,extraChecks:r,getToken:n}){if(!e)throw new T("pathname is required");if(e.length>950)throw new T("pathname is too long, maximum length is 950");for(let t of E)if(e.includes(t))throw new T(`pathname cannot contain "${t}", please encode it if needed`);if(!t)throw new T("missing options, see usage");if("public"!==t.access)throw new T('access must be "public"');return r&&r(t),n&&(t.token=await n(e,t)),t}async function eo({uploadId:e,key:t,pathname:r,parts:n,headers:o,options:a}){let i=new URLSearchParams({pathname:r});try{let r=await et(`/mpu?${i.toString()}`,{method:"POST",headers:{...o,"content-type":"application/json","x-mpu-action":"complete","x-mpu-upload-id":e,"x-mpu-key":encodeURIComponent(t)},body:JSON.stringify(n),signal:a.abortSignal},a);return B("mpu: complete",r),r}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new Y;throw e}}async function ea(e,t,r){B("mpu: create","pathname:",e);let n=new URLSearchParams({pathname:e});try{let e=await et(`/mpu?${n.toString()}`,{method:"POST",headers:{...t,"x-mpu-action":"create"},signal:r.abortSignal},r);return B("mpu: create",e),e}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new Y;throw e}}async function ei({uploadId:e,key:t,pathname:r,headers:n,options:o,internalAbortController:a=new AbortController,part:i}){var s,l,u;let c=new URLSearchParams({pathname:r}),p=et(`/mpu?${c.toString()}`,{signal:a.signal,method:"POST",headers:{...n,"x-mpu-action":"upload","x-mpu-key":encodeURIComponent(t),"x-mpu-upload-id":e,"x-mpu-part-number":i.partNumber.toString()},body:i.blob},o);function d(){a.abort()}(null==(s=o.abortSignal)?void 0:s.aborted)?d():null==(l=o.abortSignal)||l.addEventListener("abort",d);let h=await p;return null==(u=o.abortSignal)||u.removeEventListener("abort",d),h}async function es(e,t,r,n){B("mpu: init","pathname:",e,"headers:",r);let o={...n,onUploadProgress:void 0},a=await ea(e,r,o),i=U(t),s=await b(t),l=await function({uploadId:e,key:t,pathname:r,stream:n,headers:o,options:a,totalToLoad:i}){B("mpu: upload init","key:",t);let s=new AbortController;return new Promise((l,u)=>{let c;let p=[],d=[],h=n.getReader(),m=0,b=!1,y=1,w=!1,_=0,v=!1,T=0,E=[],R=0,x={};async function L(){for(B("mpu: upload read start","activeUploads:",m,"currentBytesInMemory:",`${g(_)}/${g(134217728)}`,"bytesSent:",g(T)),b=!0;_<134217728&&!w;)try{let{value:e,done:t}=await h.read();if(t){v=!0,B("mpu: upload read consumed the whole stream"),E.length>0&&(p.push({partNumber:y++,blob:new Blob(E,{type:"application/octet-stream"})}),k()),b=!1;return}_+=e.byteLength;let r=0;for(;r<e.byteLength;){let t=8388608-R,n=Math.min(r+t,e.byteLength),o=e.slice(r,n);E.push(o),R+=o.byteLength,r=n,8388608===R&&(p.push({partNumber:y++,blob:new Blob(E,{type:"application/octet-stream"})}),E=[],R=0,k())}}catch(e){C(e)}B("mpu: upload read end","activeUploads:",m,"currentBytesInMemory:",`${g(_)}/${g(134217728)}`,"bytesSent:",g(T)),b=!1}async function U(n){m++,B("mpu: upload send part start","partNumber:",n.partNumber,"size:",n.blob.size,"activeUploads:",m,"currentBytesInMemory:",`${g(_)}/${g(134217728)}`,"bytesSent:",g(T));try{let i=a.onUploadProgress?e=>{x[n.partNumber]=e.loaded,c&&c()}:void 0,u=await ei({uploadId:e,key:t,pathname:r,headers:o,options:{...a,onUploadProgress:i},internalAbortController:s,part:n});if(B("mpu: upload send part end","partNumber:",n.partNumber,"activeUploads",m,"currentBytesInMemory:",`${g(_)}/${g(134217728)}`,"bytesSent:",g(T)),w)return;if(d.push({partNumber:n.partNumber,etag:u.etag}),_-=n.blob.size,m--,T+=n.blob.size,p.length>0&&k(),v){0===m&&(h.releaseLock(),l(d));return}b||L().catch(C)}catch(e){C(e)}}function k(){if(!w)for(B("send parts","activeUploads",m,"partsToUpload",p.length);m<8&&p.length>0;){let e=p.shift();e&&U(e)}}function C(e){w||(w=!0,s.abort(),h.releaseLock(),e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message)?u(new Y):u(e))}a.onUploadProgress&&(c=f(()=>{var e;let t=Object.values(x).reduce((e,t)=>e+t,0),r=i||t,n=i>0?Number((100*(t/i||t)).toFixed(2)):0;null==(e=a.onUploadProgress)||e.call(a,{loaded:t,total:r,percentage:n})},150)),L().catch(C)})}({uploadId:a.uploadId,key:a.key,pathname:e,stream:s,headers:r,options:n,totalToLoad:i});return await eo({uploadId:a.uploadId,key:a.key,pathname:e,parts:l,headers:r,options:o})}function el({allowedOptions:e,getToken:t,extraChecks:r}){return async function(n,o,a){if(!o)throw new T("body is required");if(function(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}(o))throw new T("Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.");let i=await en({pathname:n,options:a,extraChecks:r,getToken:t}),s=function(e,t){let r={};return e.includes("contentType")&&t.contentType&&(r[er.contentType]=t.contentType),e.includes("addRandomSuffix")&&void 0!==t.addRandomSuffix&&(r[er.addRandomSuffix]=t.addRandomSuffix?"1":"0"),e.includes("allowOverwrite")&&void 0!==t.allowOverwrite&&(r[er.allowOverwrite]=t.allowOverwrite?"1":"0"),e.includes("cacheControlMaxAge")&&void 0!==t.cacheControlMaxAge&&(r[er.cacheControlMaxAge]=t.cacheControlMaxAge.toString()),r}(e,i);if(!0===i.multipart)return es(n,o,s,i);let l=i.onUploadProgress?f(i.onUploadProgress,100):void 0,u=new URLSearchParams({pathname:n}),c=await et(`/?${u.toString()}`,{method:"PUT",body:o,headers:s,signal:i.abortSignal},{...i,onUploadProgress:l});return{url:c.url,downloadUrl:c.downloadUrl,pathname:c.pathname,contentType:c.contentType,contentDisposition:c.contentDisposition}}}/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */var eu=r(6113);function ec(e){return function(t){if(!t.token.startsWith("vercel_blob_client_"))throw new T(`${e} must be called with a client token`);if(void 0!==t.addRandomSuffix||void 0!==t.allowOverwrite||void 0!==t.cacheControlMaxAge)throw new T(`${e} doesn't allow \`addRandomSuffix\`, \`cacheControlMaxAge\` or \`allowOverwrite\`. Configure these options at the server side when generating client tokens.`)}}async function ep(e){return globalThis.crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"])}async function ed(e,t){if(!globalThis.crypto)return eu.createHmac("sha256",t).update(e).digest("hex");let r=await globalThis.crypto.subtle.sign("HMAC",await ep(t),new TextEncoder().encode(e));return Buffer.from(new Uint8Array(r)).toString("hex")}async function eh({token:e,signature:t,body:r}){if(!globalThis.crypto){let n=eu.createHmac("sha256",e).update(r).digest("hex"),o=Buffer.from(n),a=Buffer.from(t);return o.length===a.length&&eu.timingSafeEqual(o,a)}return await globalThis.crypto.subtle.verify("HMAC",await ep(e),function(e){if(e.length%2!=0)throw RangeError("Expected string to be an even number of characters");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=Number.parseInt(e.substring(r,r+2),16);return Buffer.from(t)}(t),new TextEncoder().encode(r))}async function ef({token:e,request:t,body:r,onBeforeGenerateToken:n,onUploadCompleted:o}){var a,i,s,l;let u=v({token:e}),c=r.type;switch(c){case"blob.generate-client-token":{let{pathname:e,clientPayload:s,multipart:l}=r.payload,p=await n(e,s,l),d=null!=(a=p.tokenPayload)?a:s,{callbackUrl:h,...f}=p,m=h;o&&!m&&(m=function(e){let t=function(e){try{let t=new URL(e,"https://dummy.com");return t.pathname+t.search}catch{return null}}(e.url);if(!t){console.warn("onUploadCompleted provided but no callbackUrl could be determined. Please provide a callbackUrl in onBeforeGenerateToken or set the VERCEL_BLOB_CALLBACK_URL environment variable.");return}if(process.env.VERCEL_BLOB_CALLBACK_URL)return`${process.env.VERCEL_BLOB_CALLBACK_URL}${t}`;if("1"!==process.env.VERCEL){console.warn("onUploadCompleted provided but no callbackUrl could be determined. Please provide a callbackUrl in onBeforeGenerateToken or set the VERCEL_BLOB_CALLBACK_URL environment variable.");return}if("preview"===process.env.VERCEL_ENV){if(process.env.VERCEL_BRANCH_URL)return`https://${process.env.VERCEL_BRANCH_URL}${t}`;if(process.env.VERCEL_URL)return`https://${process.env.VERCEL_URL}${t}`}if("production"===process.env.VERCEL_ENV&&process.env.VERCEL_PROJECT_PRODUCTION_URL)return`https://${process.env.VERCEL_PROJECT_PRODUCTION_URL}${t}`}(t)),!o&&m&&console.warn("callbackUrl was provided but onUploadCompleted is not defined. The callback will not be handled.");let b=new Date,y=null!=(i=p.validUntil)?i:b.setSeconds(b.getSeconds()+3600);return{type:c,clientToken:await eb({...f,token:u,pathname:e,onUploadCompleted:m?{callbackUrl:m,tokenPayload:d}:void 0,validUntil:y})}}case"blob.upload-completed":{let e="x-vercel-signature",n="credentials"in t?null!=(s=t.headers.get(e))?s:"":null!=(l=t.headers[e])?l:"";if(!n)throw new T("Missing callback signature");if(!await eh({token:u,signature:n,body:JSON.stringify(r)}))throw new T("Invalid callback signature");return o&&await o(r.payload),{type:c,response:"ok"}}default:throw new T("Invalid event type")}}async function em(e){let{handleUploadUrl:t,pathname:r}=e,n=!function(e){try{return new URL(e),!0}catch{return!1}}(t)?new URL(t,location.href).href:t,o={type:"blob.generate-client-token",payload:{pathname:r,clientPayload:e.clientPayload,multipart:e.multipart}},a=await h(n,{method:"POST",body:JSON.stringify(o),headers:{"content-type":"application/json",...e.headers},signal:e.abortSignal});if(!a.ok)throw new T("Failed to  retrieve the client token");try{let{clientToken:e}=await a.json();return e}catch{throw new T("Failed to retrieve the client token")}}async function eb({token:e,...t}){var r;let n=new Date;n.setSeconds(n.getSeconds()+30);let o=v({token:e}),[,,,a=null]=o.split("_");if(!a)throw new T(e?"Invalid `token` parameter":"Invalid `BLOB_READ_WRITE_TOKEN`");let i=Buffer.from(JSON.stringify({...t,validUntil:null!=(r=t.validUntil)?r:n.getTime()})).toString("base64"),s=await ed(i,o);if(!s)throw new T("Unable to sign client token");return`vercel_blob_client_${a}_${Buffer.from(`${s}.${i}`).toString("base64")}`}el({allowedOptions:["contentType"],extraChecks:ec("client/`put`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ec("client/`createMultipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ec("client/`createMultipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ec("client/`multipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ec("client/`completeMultipartUpload`")}),el({allowedOptions:["contentType"],extraChecks(e){if(void 0===e.handleUploadUrl)throw new T("client/`upload` requires the 'handleUploadUrl' parameter");if(void 0!==e.addRandomSuffix||void 0!==e.createPutExtraChecks||void 0!==e.cacheControlMaxAge)throw new T("client/`upload` doesn't allow `addRandomSuffix`, `cacheControlMaxAge` or `allowOverwrite`. Configure these options at the server side when generating client tokens.")},async getToken(e,t){var r,n;return em({handleUploadUrl:t.handleUploadUrl,pathname:e,clientPayload:null!=(r=t.clientPayload)?r:null,multipart:null!=(n=t.multipart)&&n,headers:t.headers})}});var ey=r(8070);async function ew(e){let t=await e.json();try{let r=await ef({body:t,request:e,onBeforeGenerateToken:async e=>({allowedContentTypes:["image/jpeg","image/png","image/gif","text/plain","application/pdf","application/zip","application/x-zip-compressed","application/octet-stream"],tokenPayload:JSON.stringify({})}),onUploadCompleted:async({blob:e,tokenPayload:t})=>{console.log("blob uploaded",e.url)}});return ey.Z.json(r)}catch(e){return ey.Z.json({error:e.message},{status:400})}}let e_=new s.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/api/blob-upload/route",pathname:"/api/blob-upload",filename:"route",bundlePath:"app/api/blob-upload/route"},resolvedPagePath:"X:\\projects\\DropCode\\app\\api\\blob-upload\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:eg,staticGenerationAsyncStorage:ev,serverHooks:eT,headerHooks:eE,staticGenerationBailout:eR}=e_,ex="/api/blob-upload/route";function eL(){return(0,u.patchFetch)({serverHooks:eT,staticGenerationAsyncStorage:ev})}},8210:(e,t,r)=>{"use strict";var n=r(5974);e.exports=function(e,t){return new Promise(function(r,o){var a,i=t||{};function s(e){o(e||Error("Aborted"))}function l(e,t){if(e.bail){s(e);return}a.retry(e)?i.onRetry&&i.onRetry(e,t):o(a.mainError())}"randomize"in i||(i.randomize=!0),(a=n.operation(i)).attempt(function(t){var n;try{n=e(s,t)}catch(e){l(e,t);return}Promise.resolve(n).then(r).catch(function(e){l(e,t)})})})}},6433:e=>{"use strict";/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},5974:(e,t,r)=>{"use strict";e.exports=r(8751)},8751:(e,t,r)=>{var n=r(7056);t.operation=function(e){return new n(t.timeouts(e),{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<t.retries;o++)n.push(this.createTimeout(o,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(o,t)),n.sort(function(e,t){return e-t}),n},t.createTimeout=function(e,t){return Math.min(Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e)),t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var o in n=[],e)"function"==typeof e[o]&&n.push(o);for(var a=0;a<n.length;a++){var i=n[a],s=e[i];e[i]=(function(n){var o=t.operation(r),a=Array.prototype.slice.call(arguments,1),i=a.pop();a.push(function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),i.apply(this,arguments))}),o.attempt(function(){n.apply(e,a)})}).bind(e,s),e[i].options=r}}},7056:e=>{"use strict";function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],a=o.message,i=(e[a]||0)+1;e[a]=i,i>=r&&(t=o,r=i)}return t}},4415:e=>{"use strict";e.exports=function(e,t){let r;if("function"!=typeof e)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n=0;return function(...o){clearTimeout(r);let a=Date.now(),i=t-(a-n);i<=0?(n=a,e.apply(this,o)):r=setTimeout(()=>{n=Date.now(),e.apply(this,o)},i)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,206],()=>r(1504));module.exports=n})();