"use strict";(()=>{var e={};e.id=910,e.ids=[910],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},2813:(e,t,o)=>{o.r(t),o.d(t,{headerHooks:()=>h,originalPathname:()=>k,patchFetch:()=>g,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>b,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>m});var a={};o.r(a),o.d(a,{POST:()=>u});var r=o(5419),n=o(9108),p=o(9678),i=o(7149),s=o(8070);async function u(e){let t=await e.json();try{let o=await (0,i.vE)({body:t,request:e,onBeforeGenerateToken:async e=>{if(!e.startsWith("uploads/"))throw Error("Invalid upload path");return{allowedContentTypes:["image/*","application/pdf","application/zip","text/plain","application/octet-stream"],tokenPayload:JSON.stringify({})}},onUploadCompleted:async({blob:e,tokenPayload:t})=>{console.log("blob uploaded",e.url)}});return s.Z.json(o)}catch(e){return s.Z.json({error:e.message},{status:400})}}let l=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/blob/upload-token/route",pathname:"/api/blob/upload-token",filename:"route",bundlePath:"app/api/blob/upload-token/route"},resolvedPagePath:"X:\\projects\\DropCode\\app\\api\\blob\\upload-token\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:b,headerHooks:h,staticGenerationBailout:m}=l,k="/api/blob/upload-token/route";function g(){return(0,p.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),a=t.X(0,[638,206,149],()=>o(2813));module.exports=a})();