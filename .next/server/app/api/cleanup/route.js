"use strict";(()=>{var e={};e.id=990,e.ids=[990],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},9517:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>f,originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>i,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>v});var r={};a.r(r),a.d(r,{GET:()=>u});var o=a(5419),n=a(9108),p=a(9678),l=a(8070),s=a(2982);async function u(){return s.h.cleanup(),l.Z.json({status:"Cleanup executed"})}let i=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/cleanup/route",pathname:"/api/cleanup",filename:"route",bundlePath:"app/api/cleanup/route"},resolvedPagePath:"X:\\projects\\DropCode\\app\\api\\cleanup\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:f,staticGenerationBailout:v}=i,g="/api/cleanup/route";function x(){return(0,p.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},2982:(e,t,a)=>{a.d(t,{h:()=>p});var r=a(7147),o=a.n(r);let n=global.fileStore||new Map;global.fileStore=n;let p={save(e,t){n.set(e.toUpperCase(),t)},get:e=>n.get(e.toUpperCase())||null,remove(e){n.delete(e.toUpperCase())},cleanup(){let e=Date.now(),t=0;for(let[a,r]of n.entries())e>r.expiresAt&&((r.files||[r]).forEach(e=>{try{e.path&&o().existsSync(e.path)&&o().unlinkSync(e.path)}catch(t){console.error(`Failed to delete file ${e.path}:`,t)}}),n.delete(a),t++);t>0&&console.log(`Cleanup: Removed ${t} expired files`)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,206],()=>a(9517));module.exports=r})();