(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},2781:e=>{"use strict";e.exports=require("stream")},5984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>m,tree:()=>c});var o=r(482),n=r(9108),a=r(2563),s=r.n(a),i=r(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1450)),"X:\\projects\\DropCode\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"X:\\projects\\DropCode\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],u=["X:\\projects\\DropCode\\app\\page.tsx"],p="/page",d={require:r,loadChunk:()=>Promise.resolve()},m=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2176:()=>{},6214:(e,t,r)=>{Promise.resolve().then(r.bind(r,3209)),Promise.resolve().then(r.bind(r,3643))},3213:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},3209:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>e_});var o,n,a,s=r(5344),i=r(3729),l=r(3643),c=r(1881),u=r(2781),p=r(8369);let d=globalThis.fetch.bind(globalThis);var m=r(414),h=new Promise(e=>{try{let t=new Uint8Array([104,101,108,108,111]);new Blob([t]).text().then(t=>{e("hello"===t)}).catch(()=>{e(!1)})}catch{e(!1)}});async function f(e){let t;return e instanceof ReadableStream?e:e instanceof Blob?e.stream():y(e)?u.Readable.toWeb(e):(t=e instanceof ArrayBuffer?new Uint8Array(e):c(e)?e:new TextEncoder().encode(e),await h)?new Blob([t]).stream():new ReadableStream({start(e){e.enqueue(t),e.close()}})}function y(e){return"object"==typeof e&&"function"==typeof e.pipe&&e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState}var b=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i,g={b:1,kb:1024,mb:1048576,gb:1073741824,tb:1099511627776,pb:0x4000000000000};function x(e){let t;if("number"==typeof e&&!Number.isNaN(e))return e;if("string"!=typeof e)return null;let r=b.exec(e),o="b";if(r){let[,e,,,n]=r;if(!e)return null;t=parseFloat(e),n&&(o=n.toLowerCase())}else t=parseInt(e,10);return Number.isNaN(t)?null:Math.floor(g[o]*t)}var v=class extends Error{constructor(e){super(`Vercel Blob: ${e}`)}},w=["//"],_=(()=>{if(function(){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return!0;if("undefined"!=typeof process){let e=process.type;return"renderer"!==e&&"worker"!==e&&!!(process.versions&&process.versions.node)}return!1}())return!0;if(T().startsWith("http://localhost"))return!1;let e=!1,t=new Request(T(),{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})();function T(e=""){let t=null;try{t=process.env.VERCEL_BLOB_API_URL||process.env.NEXT_PUBLIC_VERCEL_BLOB_API_URL}catch{}return`${t||"https://vercel.com/api/blob"}${e}`}var E="function"==typeof TextEncoder?new TextEncoder:null;function O(e){return e?"string"==typeof e?E?E.encode(e).byteLength:new Blob([e]).size:"byteLength"in e&&"number"==typeof e.byteLength?e.byteLength:"size"in e&&"number"==typeof e.size?e.size:0:0}var R=(e,t)=>{let r=new Uint8Array(0);return new TransformStream({transform(o,n){queueMicrotask(()=>{let a=new Uint8Array(r.length+o.byteLength);for(a.set(r),a.set(new Uint8Array(o),r.length),r=a;r.length>=e;){let o=r.slice(0,e);n.enqueue(o),null==t||t(o.byteLength),r=r.slice(e)}})},flush(e){queueMicrotask(()=>{r.length>0&&(e.enqueue(r),null==t||t(r.byteLength))})}})};function S(e){return globalThis.ReadableStream&&e instanceof ReadableStream}var N=!1;try{((null==(o=process.env.DEBUG)?void 0:o.includes("blob"))||(null==(n=process.env.NEXT_PUBLIC_DEBUG)?void 0:n.includes("blob")))&&(N=!0)}catch{}function P(e,...t){N&&console.debug(`vercel-blob: ${e}`,...t)}var A=null!=(a=globalThis.DOMException)?a:(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),C=Object.prototype.toString,L=e=>"[object Error]"===C.call(e),j=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]),U="function"==typeof d,D=U&&_,k=async({input:e,init:t,onUploadProgress:r})=>{let o;if(P("using fetch"),t.body){if(r){let e=await f(t.body),n=0,a=R(65536,e=>{r(n+=e)});o=e.pipeThrough(a)}else o=t.body}let n=_&&o&&function(e){return!!(S(e)||y(e))}(o)?"half":void 0;return d(e,{...t,...t.body?{body:o}:{},duplex:n})},I="undefined"!=typeof XMLHttpRequest,B=async({input:e,init:t,onUploadProgress:r})=>{P("using xhr");let o=null;return t.body&&(o=S(t.body)?await new Response(t.body).blob():t.body),new Promise((n,a)=>{let s=new XMLHttpRequest;if(s.open(t.method||"GET",e.toString(),!0),r&&s.upload.addEventListener("progress",e=>{e.lengthComputable&&r(e.loaded)}),s.onload=()=>{var e;if(null==(e=t.signal)?void 0:e.aborted){a(new DOMException("The user aborted the request.","AbortError"));return}let r=new Headers;s.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(e=>{let t=e.split(": "),o=t.shift(),n=t.join(": ");o&&r.set(o.toLowerCase(),n)}),n(new Response(s.response,{status:s.status,statusText:s.statusText,headers:r}))},s.onerror=()=>{a(TypeError("Network request failed"))},s.ontimeout=()=>{a(TypeError("Network request timed out"))},s.onabort=()=>{a(new DOMException("The user aborted a request.","AbortError"))},t.headers&&new Headers(t.headers).forEach((e,t)=>{s.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",()=>{s.abort()}),t.signal.aborted)){s.abort();return}s.send(o)})},M=async({input:e,init:t,onUploadProgress:r})=>{if(r){if(D)return k({input:e,init:t,onUploadProgress:r});if(I)return B({input:e,init:t,onUploadProgress:r})}if(U)return k({input:e,init:t});if(I)return B({input:e,init:t});throw Error("No request implementation available")},$=class extends v{constructor(){super("Access denied, please provide a valid token for this resource.")}},F=class extends v{constructor(e){super(`Content type mismatch, ${e}.`)}},q=class extends v{constructor(e){super(`Pathname mismatch, ${e}. Check the pathname used in upload() or put() matches the one from the client token.`)}},H=class extends v{constructor(){super("Client token has expired.")}},z=class extends v{constructor(e){super(`File is too large, ${e}.`)}},X=class extends v{constructor(){super("This store does not exist.")}},G=class extends v{constructor(){super("This store has been suspended.")}},W=class extends v{constructor(){super("Unknown error, please visit https://vercel.com/help.")}},V=class extends v{constructor(){super("The requested blob does not exist")}},Y=class extends v{constructor(){super("The blob service is currently not available. Please try again.")}},J=class extends v{constructor(e){super(`Too many requests please lower the number of concurrent requests ${e?` - try again in ${e} seconds`:""}.`),this.retryAfter=null!=e?e:0}},K=class extends v{constructor(){super("The request was aborted.")}};async function Q(e){var t,r,o;let n,a,s;try{let s=await e.json();n=null!=(r=null==(t=s.error)?void 0:t.code)?r:"unknown_error",a=null==(o=s.error)?void 0:o.message}catch{n="unknown_error"}switch((null==a?void 0:a.includes("contentType"))&&a.includes("is not allowed")&&(n="content_type_not_allowed"),(null==a?void 0:a.includes('"pathname"'))&&a.includes("does not match the token payload")&&(n="client_token_pathname_mismatch"),"Token expired"===a&&(n="client_token_expired"),(null==a?void 0:a.includes("the file length cannot be greater than"))&&(n="file_too_large"),n){case"store_suspended":s=new G;break;case"forbidden":s=new $;break;case"content_type_not_allowed":s=new F(a);break;case"client_token_pathname_mismatch":s=new q(a);break;case"client_token_expired":s=new H;break;case"file_too_large":s=new z(a);break;case"not_found":s=new V;break;case"store_not_found":s=new X;break;case"bad_request":s=new v(null!=a?a:"Bad request");break;case"service_unavailable":s=new Y;break;case"rate_limited":s=function(e){let t=e.headers.get("retry-after");return new J(t?parseInt(t,10):void 0)}(e);break;default:s=new W}return{code:n,error:s}}async function Z(e,t,r){let o=function(){let e=null;try{e=process.env.VERCEL_BLOB_API_VERSION_OVERRIDE||process.env.NEXT_PUBLIC_VERCEL_BLOB_API_VERSION_OVERRIDE}catch{}return`${null!=e?e:11}`}(),n=function(e){if(null==e?void 0:e.token)return e.token;if(process.env.BLOB_READ_WRITE_TOKEN)return process.env.BLOB_READ_WRITE_TOKEN;throw new v("No token found. Either configure the `BLOB_READ_WRITE_TOKEN` environment variable, or pass a `token` option to your calls.")}(r),a=function(){let e={};try{"VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in process.env&&void 0!==process.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API?e["x-proxy-through-alternative-api"]=process.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API:"NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in process.env&&void 0!==process.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API&&(e["x-proxy-through-alternative-api"]=process.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API)}catch{}return e}(),[,,,s=""]=n.split("_"),i=`${s}:${Date.now()}:${Math.random().toString(16).slice(2)}`,l=0,c=0,u=0,d=(null==r?void 0:r.onUploadProgress)||function(){try{return"1"===process.env.VERCEL_BLOB_USE_X_CONTENT_LENGTH}catch{return!1}}();t.body&&d&&(c=O(t.body)),(null==r?void 0:r.onUploadProgress)&&r.onUploadProgress({loaded:0,total:c,percentage:0});let m=await p(async s=>{let p;try{p=await M({input:T(e),init:{...t,headers:{"x-api-blob-request-id":i,"x-api-blob-request-attempt":String(l),"x-api-version":o,...d?{"x-content-length":String(c)}:{},authorization:`Bearer ${n}`,...a,...t.headers}},onUploadProgress:(null==r?void 0:r.onUploadProgress)?e=>{var t;let o=0!==c?c:e;u=e;let n=c>0?Number((e/o*100).toFixed(2)):0;100===n&&c>0||null==(t=r.onUploadProgress)||t.call(r,{loaded:e,total:o,percentage:n})}:void 0})}catch(e){if(e instanceof A&&"AbortError"===e.name){s(new K);return}if(e&&L(e)&&"TypeError"===e.name&&"string"==typeof e.message&&("Load failed"===e.message?void 0===e.stack:j.has(e.message)))throw e;if(e instanceof TypeError){s(e);return}throw e}if(p.ok)return p;let{code:m,error:h}=await Q(p);if("unknown_error"===m||"service_unavailable"===m||"internal_server_error"===m)throw h;s(h)},{retries:function(){try{let e=process.env.VERCEL_BLOB_RETRIES||"10";return parseInt(e,10)}catch{return 10}}(),onRetry:t=>{t instanceof Error&&P(`retrying API request to ${e}`,t.message),l+=1}});if(!m)throw new W;return(null==r?void 0:r.onUploadProgress)&&r.onUploadProgress({loaded:u,total:u,percentage:100}),await m.json()}var ee={cacheControlMaxAge:"x-cache-control-max-age",addRandomSuffix:"x-add-random-suffix",allowOverwrite:"x-allow-overwrite",contentType:"x-content-type"};async function et({pathname:e,options:t,extraChecks:r,getToken:o}){if(!e)throw new v("pathname is required");if(e.length>950)throw new v("pathname is too long, maximum length is 950");for(let t of w)if(e.includes(t))throw new v(`pathname cannot contain "${t}", please encode it if needed`);if(!t)throw new v("missing options, see usage");if("public"!==t.access)throw new v('access must be "public"');return r&&r(t),o&&(t.token=await o(e,t)),t}async function er({uploadId:e,key:t,pathname:r,parts:o,headers:n,options:a}){let s=new URLSearchParams({pathname:r});try{let r=await Z(`/mpu?${s.toString()}`,{method:"POST",headers:{...n,"content-type":"application/json","x-mpu-action":"complete","x-mpu-upload-id":e,"x-mpu-key":encodeURIComponent(t)},body:JSON.stringify(o),signal:a.abortSignal},a);return P("mpu: complete",r),r}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new Y;throw e}}async function eo(e,t,r){P("mpu: create","pathname:",e);let o=new URLSearchParams({pathname:e});try{let e=await Z(`/mpu?${o.toString()}`,{method:"POST",headers:{...t,"x-mpu-action":"create"},signal:r.abortSignal},r);return P("mpu: create",e),e}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new Y;throw e}}async function en({uploadId:e,key:t,pathname:r,headers:o,options:n,internalAbortController:a=new AbortController,part:s}){var i,l,c;let u=new URLSearchParams({pathname:r}),p=Z(`/mpu?${u.toString()}`,{signal:a.signal,method:"POST",headers:{...o,"x-mpu-action":"upload","x-mpu-key":encodeURIComponent(t),"x-mpu-upload-id":e,"x-mpu-part-number":s.partNumber.toString()},body:s.blob},n);function d(){a.abort()}(null==(i=n.abortSignal)?void 0:i.aborted)?d():null==(l=n.abortSignal)||l.addEventListener("abort",d);let m=await p;return null==(c=n.abortSignal)||c.removeEventListener("abort",d),m}async function ea(e,t,r,o){P("mpu: init","pathname:",e,"headers:",r);let n={...o,onUploadProgress:void 0},a=await eo(e,r,n),s=O(t),i=await f(t),l=await function({uploadId:e,key:t,pathname:r,stream:o,headers:n,options:a,totalToLoad:s}){P("mpu: upload init","key:",t);let i=new AbortController;return new Promise((l,c)=>{let u;let p=[],d=[],h=o.getReader(),f=0,y=!1,b=1,g=!1,v=0,w=!1,_=0,T=[],E=0,O={};async function R(){for(P("mpu: upload read start","activeUploads:",f,"currentBytesInMemory:",`${x(v)}/${x(134217728)}`,"bytesSent:",x(_)),y=!0;v<134217728&&!g;)try{let{value:e,done:t}=await h.read();if(t){w=!0,P("mpu: upload read consumed the whole stream"),T.length>0&&(p.push({partNumber:b++,blob:new Blob(T,{type:"application/octet-stream"})}),N()),y=!1;return}v+=e.byteLength;let r=0;for(;r<e.byteLength;){let t=8388608-E,o=Math.min(r+t,e.byteLength),n=e.slice(r,o);T.push(n),E+=n.byteLength,r=o,8388608===E&&(p.push({partNumber:b++,blob:new Blob(T,{type:"application/octet-stream"})}),T=[],E=0,N())}}catch(e){A(e)}P("mpu: upload read end","activeUploads:",f,"currentBytesInMemory:",`${x(v)}/${x(134217728)}`,"bytesSent:",x(_)),y=!1}async function S(o){f++,P("mpu: upload send part start","partNumber:",o.partNumber,"size:",o.blob.size,"activeUploads:",f,"currentBytesInMemory:",`${x(v)}/${x(134217728)}`,"bytesSent:",x(_));try{let s=a.onUploadProgress?e=>{O[o.partNumber]=e.loaded,u&&u()}:void 0,c=await en({uploadId:e,key:t,pathname:r,headers:n,options:{...a,onUploadProgress:s},internalAbortController:i,part:o});if(P("mpu: upload send part end","partNumber:",o.partNumber,"activeUploads",f,"currentBytesInMemory:",`${x(v)}/${x(134217728)}`,"bytesSent:",x(_)),g)return;if(d.push({partNumber:o.partNumber,etag:c.etag}),v-=o.blob.size,f--,_+=o.blob.size,p.length>0&&N(),w){0===f&&(h.releaseLock(),l(d));return}y||R().catch(A)}catch(e){A(e)}}function N(){if(!g)for(P("send parts","activeUploads",f,"partsToUpload",p.length);f<8&&p.length>0;){let e=p.shift();e&&S(e)}}function A(e){g||(g=!0,i.abort(),h.releaseLock(),e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message)?c(new Y):c(e))}a.onUploadProgress&&(u=m(()=>{var e;let t=Object.values(O).reduce((e,t)=>e+t,0),r=s||t,o=s>0?Number((100*(t/s||t)).toFixed(2)):0;null==(e=a.onUploadProgress)||e.call(a,{loaded:t,total:r,percentage:o})},150)),R().catch(A)})}({uploadId:a.uploadId,key:a.key,pathname:e,stream:i,headers:r,options:o,totalToLoad:s});return await er({uploadId:a.uploadId,key:a.key,pathname:e,parts:l,headers:r,options:n})}function es({allowedOptions:e,getToken:t,extraChecks:r}){return async function(o,n,a){if(!n)throw new v("body is required");if(function(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}(n))throw new v("Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.");let s=await et({pathname:o,options:a,extraChecks:r,getToken:t}),i=function(e,t){let r={};return e.includes("contentType")&&t.contentType&&(r[ee.contentType]=t.contentType),e.includes("addRandomSuffix")&&void 0!==t.addRandomSuffix&&(r[ee.addRandomSuffix]=t.addRandomSuffix?"1":"0"),e.includes("allowOverwrite")&&void 0!==t.allowOverwrite&&(r[ee.allowOverwrite]=t.allowOverwrite?"1":"0"),e.includes("cacheControlMaxAge")&&void 0!==t.cacheControlMaxAge&&(r[ee.cacheControlMaxAge]=t.cacheControlMaxAge.toString()),r}(e,s);if(!0===s.multipart)return ea(o,n,i,s);let l=s.onUploadProgress?m(s.onUploadProgress,100):void 0,c=new URLSearchParams({pathname:o}),u=await Z(`/?${c.toString()}`,{method:"PUT",body:n,headers:i,signal:s.abortSignal},{...s,onUploadProgress:l});return{url:u.url,downloadUrl:u.downloadUrl,pathname:u.pathname,contentType:u.contentType,contentDisposition:u.contentDisposition}}}function ei(e){return function(t){if(!t.token.startsWith("vercel_blob_client_"))throw new v(`${e} must be called with a client token`);if(void 0!==t.addRandomSuffix||void 0!==t.allowOverwrite||void 0!==t.cacheControlMaxAge)throw new v(`${e} doesn't allow \`addRandomSuffix\`, \`cacheControlMaxAge\` or \`allowOverwrite\`. Configure these options at the server side when generating client tokens.`)}}r(6113),es({allowedOptions:["contentType"],extraChecks:ei("client/`put`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ei("client/`createMultipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ei("client/`createMultipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ei("client/`multipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:r}){}({allowedOptions:["contentType"],extraChecks:ei("client/`completeMultipartUpload`")});var el=es({allowedOptions:["contentType"],extraChecks(e){if(void 0===e.handleUploadUrl)throw new v("client/`upload` requires the 'handleUploadUrl' parameter");if(void 0!==e.addRandomSuffix||void 0!==e.createPutExtraChecks||void 0!==e.cacheControlMaxAge)throw new v("client/`upload` doesn't allow `addRandomSuffix`, `cacheControlMaxAge` or `allowOverwrite`. Configure these options at the server side when generating client tokens.")},async getToken(e,t){var r,o;return eu({handleUploadUrl:t.handleUploadUrl,pathname:e,clientPayload:null!=(r=t.clientPayload)?r:null,multipart:null!=(o=t.multipart)&&o,headers:t.headers})}});async function ec(e){return globalThis.crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"])}async function eu(e){let{handleUploadUrl:t,pathname:r}=e,o=!function(e){try{return new URL(e),!0}catch{return!1}}(t)?new URL(t,location.href).href:t,n={type:"blob.generate-client-token",payload:{pathname:r,clientPayload:e.clientPayload,multipart:e.multipart}},a=await d(o,{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json",...e.headers},signal:e.abortSignal});if(!a.ok)throw new v("Failed to  retrieve the client token");try{let{clientToken:e}=await a.json();return e}catch{throw new v("Failed to retrieve the client token")}}let ep="/api",ed=async(e,t)=>{let r=e instanceof FileList?Array.from(e):e,o=[],n=0;for(let e=0;e<r.length;e++){let a=r[e];n+=a.size;try{let e=await el(a.name,a,{access:"public",handleUploadUrl:"/api/blob-upload",onUploadProgress:e=>{if(t){let r=Math.round(e.percentage);t(r)}}});o.push({url:e.url,originalName:a.name,size:a.size,mimeType:a.type})}catch(e){throw console.error(e),{error:"Blob Upload Failed"}}}try{let e=await fetch(`${ep}/upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({files:o,totalSize:n})});if(!e.ok)throw await e.json();return await e.json()}catch(e){throw{error:e.error||"Registration Failed"}}},em=async e=>{let t=await fetch(`${ep}/verify?code=${encodeURIComponent(e)}`),r=await t.json();if(!t.ok)throw r;return r},eh=async(e,t)=>{let r=await fetch(`${ep}/verify`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,...t})}),o=await r.json();if(!r.ok)throw o;return o};function ef(){let{startUpload:e,setProgress:t,uploadSuccess:r,uploadError:o}=(0,l.useApp)(),[n,a]=(0,i.useState)(!1),c=(0,i.useRef)(null),u=async n=>{if(!n||0===n.length)return;let a=0,s=n instanceof FileList?Array.from(n):n;for(let e of s)a+=e.size;if(a>209715200){alert("Total size too large (Max 200MB)");return}e();try{let e=await ed(s,e=>{t(e)});setTimeout(()=>{r(e)},300)}catch(e){console.error(e),o(e.error||"Upload failed")}};return(0,s.jsxs)("div",{className:`brutal-upload-zone ${n?"dragover":""}`,onDrop:e=>{e.preventDefault(),a(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&u(e.dataTransfer.files)},onDragOver:e=>{e.preventDefault(),a(!0)},onDragLeave:()=>{a(!1)},onClick:()=>c.current?.click(),children:[s.jsx("input",{type:"file",multiple:!0,style:{display:"none"},ref:c,onChange:e=>u(e.target.files),"aria-label":"Upload File"}),s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"1.5rem",pointerEvents:"none"},children:n?"Drop It!":"Drop File Here"}),s.jsx("p",{style:{marginTop:"var(--space-md)",color:"#666",pointerEvents:"none"},children:"CLICK IF YOU MUST"}),(0,s.jsxs)("div",{className:"text-mono",style:{marginTop:"var(--space-lg)",fontSize:"0.8rem",opacity:.7,pointerEvents:"none"},children:[s.jsx("p",{children:"MAX 200MB • 10 MIN EXPIRY"}),s.jsx("p",{children:"NO ACCOUNTS • NO LOGS"})]})]})}function ey(){let{state:e}=(0,l.useApp)();return(0,s.jsxs)("div",{className:"text-center",style:{width:"100%",padding:"var(--space-lg) 0"},children:[s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"1.2rem",marginBottom:"var(--space-md)"},children:"UPLOADING..."}),s.jsx("div",{className:"brutal-progress",children:s.jsx("div",{className:"brutal-progress-fill",style:{width:`${e.progress}%`}})}),(0,s.jsxs)("p",{className:"font-bold",style:{fontSize:"3rem",marginTop:"var(--space-md)",lineHeight:"1"},children:[e.progress,"%"]})]})}function eb(){let{state:e,reset:t,uploadSuccess:r}=(0,l.useApp)(),{code:o,expiresAt:n,expiryMinutes:a,maxDownloads:c}=e.data||{},[u,p]=(0,i.useState)(""),[d,m]=(0,i.useState)(!1),[h,f]=(0,i.useState)(a||10),[y,b]=(0,i.useState)("Unlimited"===c?"Unlimited":c||"Unlimited");(0,i.useEffect)(()=>{if(!n)return;let e=()=>{let e=n-Date.now();if(e<=0){p("EXPIRED");return}let t=Math.floor(e%6e4/1e3);p(`${Math.floor(e/6e4)}:${t<10?"0":""}${t}`)};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[n]);let g=async t=>{if(o)try{let n=await eh(o,t);r({...e.data,...n}),t.expiryMinutes&&f(t.expiryMinutes),void 0!==t.maxDownloads&&b(t.maxDownloads===1/0?"Unlimited":t.maxDownloads)}catch(e){console.error("Failed to update metadata",e),alert("Failed to update settings")}};return(0,s.jsxs)("div",{className:"text-center",style:{width:"100%",padding:"var(--space-lg) 0"},children:[s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"1.2rem",marginBottom:"var(--space-md)"},children:"YOUR CODE"}),s.jsx("div",{className:"brutal-code",children:o}),s.jsx("div",{style:{marginTop:"var(--space-lg)"},children:s.jsx("button",{className:"brutal-button",onClick:()=>{o&&(navigator.clipboard.writeText(o),m(!0),setTimeout(()=>m(!1),2e3))},style:{minWidth:"200px"},children:d?"COPIED!":"COPY CODE"})}),(0,s.jsxs)("div",{style:{marginTop:"var(--space-xl)",display:"flex",flexDirection:"column",gap:"var(--space-lg)",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"0.9rem",marginBottom:"var(--space-sm)"},children:"EXPIRES IN"}),s.jsx("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[5,10,30].map(e=>(0,s.jsxs)("button",{onClick:()=>g({expiryMinutes:e}),style:{padding:"var(--space-xs) var(--space-md)",border:"2px solid black",fontWeight:"bold",backgroundColor:h===e?"var(--color-bg-accent)":"transparent",cursor:"pointer"},children:[e,"M"]},e))})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"0.9rem",marginBottom:"var(--space-sm)"},children:"MAX DOWNLOADS"}),s.jsx("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[1,3,"Unlimited"].map(e=>s.jsx("button",{onClick:()=>g({maxDownloads:"Unlimited"===e?"Infinity":e}),style:{padding:"var(--space-xs) var(--space-md)",border:"2px solid black",fontWeight:"bold",backgroundColor:y===e?"var(--color-bg-accent)":"transparent",cursor:"pointer"},children:"Unlimited"===e?"∞":e},e))})]})]}),(0,s.jsxs)("p",{className:"font-bold",style:{marginTop:"var(--space-xl)",fontSize:"1.2rem"},children:["EXPIRES IN: ",s.jsx("span",{style:{color:"var(--color-accent-red)"},children:u})]}),s.jsx("p",{style:{marginTop:"var(--space-lg)",textDecoration:"underline",cursor:"pointer",opacity:.7},onClick:t,children:"SEND ANOTHER FILE"})]})}function eg(){let{fetchFileStart:e,fetchFileSuccess:t,fetchFileError:r}=(0,l.useApp)(),[o,n]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1),u=(0,i.useRef)(null);(0,i.useEffect)(()=>{u.current?.focus()},[]);let p=async n=>{if(n.preventDefault(),o&&!(o.length<5)){c(!0),e();try{let e=await em(o);setTimeout(()=>{t(e)},500)}catch(t){console.error(t);let e=t.error||"File not found";e.includes("not found")&&(e="INVALID CODE"),r(e),c(!1)}}};return(0,s.jsxs)("div",{className:"text-center",style:{width:"100%",padding:"var(--space-lg) 0"},children:[s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"1.2rem",marginBottom:"var(--space-md)"},children:"ENTER CODE"}),(0,s.jsxs)("form",{onSubmit:p,children:[s.jsx("input",{ref:u,type:"text",className:"brutal-input",placeholder:"XXXXX",maxLength:10,value:o,onChange:e=>n(e.target.value.toUpperCase()),disabled:a,"aria-label":"Enter download code"}),s.jsx("button",{type:"submit",className:"brutal-button",style:{width:"100%",marginTop:"var(--space-lg)"},disabled:a||o.length<5,children:a?"SEARCHING...":"GET FILE"})]})]})}function ex(){let{state:e,reset:t}=(0,l.useApp)(),{code:r,originalName:o,size:n}=e.data||{};return(0,i.useEffect)(()=>{if(r){let e=setTimeout(async()=>{try{let e=await fetch("/api/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:r})}),t=await e.json();t.url?window.location.href=t.url:console.error("Download failed",t.error)}catch(e){console.error("Download network error")}},1e3);return()=>clearTimeout(e)}},[r]),(0,s.jsxs)("div",{className:"text-center",style:{width:"100%",padding:"var(--space-lg) 0"},children:[s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"1.2rem",marginBottom:"var(--space-md)"},children:"DOWNLOADING..."}),(0,s.jsxs)("div",{className:"brutal-container",style:{backgroundColor:"var(--color-bg-mint)"},children:[s.jsx("p",{className:"font-bold",style:{fontSize:"1.5rem",wordBreak:"break-all"},children:o}),s.jsx("p",{className:"text-mono",style:{marginTop:"var(--space-sm)"},children:(e=>{if(void 0===e||0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]})(n)})]}),s.jsx("div",{className:"brutal-progress",style:{marginTop:"var(--space-lg)"},children:s.jsx("div",{className:"brutal-progress-fill",style:{width:"100%",animation:"pulse 2s infinite"}})}),s.jsx("button",{className:"brutal-button",onClick:t,style:{marginTop:"var(--space-xl)",width:"100%"},children:"SEND A FILE"})]})}function ev(){let{state:e,reset:t}=(0,l.useApp)(),{error:r}=e;return(0,s.jsxs)("div",{className:"text-center",style:{width:"100%",padding:"var(--space-lg) 0"},children:[(0,s.jsxs)("div",{className:"brutal-error brutal-container",style:{marginBottom:"var(--space-lg)"},children:[s.jsx("p",{className:"font-bold uppercase",style:{fontSize:"1.5rem",color:"var(--color-accent-red)"},children:"ERROR"}),s.jsx("p",{style:{marginTop:"var(--space-md)",fontSize:"1.2rem"},children:r||"SOMETHING WENT WRONG"})]}),s.jsx("button",{className:"brutal-button",onClick:t,style:{width:"100%"},children:"TRY AGAIN"})]})}function ew({onComplete:e}){let[t,r]=(0,i.useState)("DROP");return(0,i.useEffect)(()=>{let t=setTimeout(()=>{r("IMPACT")},600),o=setTimeout(()=>{r("CODE")},650),n=setTimeout(()=>{e&&e()},1800);return()=>{clearTimeout(t),clearTimeout(o),clearTimeout(n)}},[e]),(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-zinc-900 overflow-hidden",children:["DROP"===t&&s.jsx("div",{className:"absolute w-8 h-8 bg-white animate-drop",style:{top:"50%",left:"50%",marginLeft:"-1rem",marginTop:"-1rem"}}),"IMPACT"===t&&s.jsx("div",{className:"relative w-20 h-20 flex items-center justify-center",children:[0,45,90,135,180,225,270,315].map((e,t)=>s.jsx("div",{className:"absolute w-1 h-6 bg-white animate-burst origin-center",style:{transform:`rotate(${e}deg)`,"--tx":`${80*Math.cos(e*Math.PI/180)}px`,"--ty":`${80*Math.sin(e*Math.PI/180)}px`}},t))}),("IMPACT"===t||"CODE"===t)&&s.jsx("div",{className:`absolute z-10 flex flex-col items-center ${"CODE"===t?"opacity-100":"opacity-0"}`,children:s.jsx("h1",{className:"text-6xl font-black text-white tracking-widest animate-code font-mono",style:{textShadow:"0 0 20px rgba(255,255,255,0.2)"},children:"HJ7MC"})})]})}function e_(){let{state:e,setMode:t,reset:r}=(0,l.useApp)(),[o,n]=(0,i.useState)(!0);return o?s.jsx(ew,{onComplete:()=>n(!1)}):(0,s.jsxs)("div",{className:"full-screen",children:[s.jsx("div",{style:{position:"absolute",top:"2rem",right:"2rem"},children:s.jsx("button",{className:"brutal-button",style:{padding:"0.5rem 1rem",fontSize:"0.8rem"},onClick:()=>t("UPLOAD"===e.mode?"DOWNLOAD":"UPLOAD"),children:"UPLOAD"===e.mode?"SWITCH TO DOWNLOAD":"SWITCH TO UPLOAD"})}),(0,s.jsxs)("div",{className:"brutal-container",style:{maxWidth:"600px",width:"100%",minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[s.jsx("h1",{className:"text-center",style:{marginBottom:"var(--space-xl)",cursor:"pointer"},onClick:r,role:"button",tabIndex:0,onKeyDown:e=>("Enter"===e.key||" "===e.key)&&r(),children:"DropCode"}),"IDLE"===e.status&&s.jsx(ef,{}),"UPLOADING"===e.status&&s.jsx(ey,{}),"GENERATED"===e.status&&s.jsx(eb,{}),"DOWNLOAD_ENTRY"===e.status&&s.jsx(eg,{}),"DOWNLOADING"===e.status&&s.jsx(ex,{}),"ERROR"===e.status&&s.jsx(ev,{})]})]})}},3643:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppProvider:()=>l,useApp:()=>c});var o=r(5344),n=r(3729);let a={status:"IDLE",data:null,error:null,progress:0,mode:"UPLOAD"};function s(e,t){switch(t.type){case"SET_MODE":return{...e,mode:t.payload,status:"UPLOAD"===t.payload?"IDLE":"DOWNLOAD_ENTRY",error:null};case"START_UPLOAD":return{...e,status:"UPLOADING",progress:0,error:null};case"SET_PROGRESS":return{...e,progress:t.payload};case"UPLOAD_SUCCESS":return{...e,status:"GENERATED",data:t.payload,progress:100};case"UPLOAD_ERROR":return{...e,status:"ERROR",error:t.payload,progress:0};case"ENTER_DOWNLOAD":return{...e,status:"DOWNLOAD_ENTRY",error:null,data:null};case"FETCH_FILE_START":return{...e,status:"DOWNLOADING",progress:0,error:null};case"FETCH_FILE_SUCCESS":return{...e,status:"DOWNLOADING",data:t.payload};case"FETCH_FILE_ERROR":return{...e,status:"ERROR",error:t.payload};case"RESET":return{...a,mode:e.mode};default:return e}}let i=(0,n.createContext)(null);function l({children:e}){let[t,r]=(0,n.useReducer)(s,a);return o.jsx(i.Provider,{value:{state:t,setMode:e=>r({type:"SET_MODE",payload:e}),startUpload:()=>r({type:"START_UPLOAD"}),setProgress:e=>r({type:"SET_PROGRESS",payload:e}),uploadSuccess:e=>r({type:"UPLOAD_SUCCESS",payload:e}),uploadError:e=>r({type:"UPLOAD_ERROR",payload:e}),enterDownload:()=>r({type:"ENTER_DOWNLOAD"}),fetchFileStart:()=>r({type:"FETCH_FILE_START"}),fetchFileSuccess:e=>r({type:"FETCH_FILE_SUCCESS",payload:e}),fetchFileError:e=>r({type:"FETCH_FILE_ERROR",payload:e}),reset:()=>r({type:"RESET"})},children:e})}function c(){let e=(0,n.useContext)(i);if(!e)throw Error("useApp must be used within an AppProvider");return e}},8369:(e,t,r)=>{"use strict";var o=r(3183);e.exports=function(e,t){return new Promise(function(r,n){var a,s=t||{};function i(e){n(e||Error("Aborted"))}function l(e,t){if(e.bail){i(e);return}a.retry(e)?s.onRetry&&s.onRetry(e,t):n(a.mainError())}"randomize"in s||(s.randomize=!0),(a=o.operation(s)).attempt(function(t){var o;try{o=e(i,t)}catch(e){l(e,t);return}Promise.resolve(o).then(r).catch(function(e){l(e,t)})})})}},1881:e=>{"use strict";/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},3183:(e,t,r)=>{"use strict";e.exports=r(1499)},1499:(e,t,r)=>{var o=r(1895);t.operation=function(e){return new o(t.timeouts(e),{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var o=[],n=0;n<t.retries;n++)o.push(this.createTimeout(n,t));return e&&e.forever&&!o.length&&o.push(this.createTimeout(n,t)),o.sort(function(e,t){return e-t}),o},t.createTimeout=function(e,t){return Math.min(Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e)),t.maxTimeout)},t.wrap=function(e,r,o){if(r instanceof Array&&(o=r,r=null),!o)for(var n in o=[],e)"function"==typeof e[n]&&o.push(n);for(var a=0;a<o.length;a++){var s=o[a],i=e[s];e[s]=(function(o){var n=t.operation(r),a=Array.prototype.slice.call(arguments,1),s=a.pop();a.push(function(e){n.retry(e)||(e&&(arguments[0]=n.mainError()),s.apply(this,arguments))}),n.attempt(function(){o.apply(e,a)})}).bind(e,i),e[s].options=r}}},1895:e=>{"use strict";function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,o=0;o<this._errors.length;o++){var n=this._errors[o],a=n.message,s=(e[a]||0)+1;e[a]=s,s>=r&&(t=n,r=s)}return t}},414:e=>{"use strict";e.exports=function(e,t){let r;if("function"!=typeof e)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let o=0;return function(...n){clearTimeout(r);let a=Date.now(),s=t-(a-o);s<=0?(o=a,e.apply(this,n)):r=setTimeout(()=>{o=Date.now(),e.apply(this,n)},s)}}},2917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>n});var o=r(5036);r(7272);let n={title:"DropCode",description:"Fast, secure file sharing."};function a({children:e}){return o.jsx("html",{lang:"en",children:o.jsx("body",{children:e})})}},1450:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var o=r(5036),n=r(6843);let a=(0,n.createProxy)(String.raw`X:\projects\DropCode\components\providers\AppProvider.tsx`),{__esModule:s,$$typeof:i}=a;a.default;let l=(0,n.createProxy)(String.raw`X:\projects\DropCode\components\providers\AppProvider.tsx#AppProvider`);(0,n.createProxy)(String.raw`X:\projects\DropCode\components\providers\AppProvider.tsx#useApp`);let c=(0,n.createProxy)(String.raw`X:\projects\DropCode\components\MainApp.tsx`),{__esModule:u,$$typeof:p}=c,d=c.default;function m(){return o.jsx(l,{children:o.jsx(d,{})})}},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,356],()=>r(5984));module.exports=o})();